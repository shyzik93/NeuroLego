<html>

<head>
<!--
    Author: Polyakov Konstantin
    Start date: 2019-03-10 05:30
-->

    <script src="neurolego/algebra.js"></script>
    <script src="neurolego/opts.js"></script>
    <script src="neurolego/study.js"></script>
    <script src="neurolego/use.js"></script>
    <script src="lib.js"></script>
    <script src="index.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="MobileOptimized" content="320" />
</head>

<body>

<style>

body {
    padding-bottom: 201px;
}

h1, h2, h3, h4 {
    text-align: center;
}

#form_log {
    position:fixed;
    bottom:0;
    left:0;
    width:100%;
    text-align:center;
    height: 150px;
}
#form_log textarea {
    width:56%;
    height:100%;
}

#form_log > div {
    width:40%;
    height:100%;
    display:inline-block;
    background: #f0fff0;
}

#form_study #form_use {
    width: 98%;
}

form .examples > div {
    display: inline-block;
}

form .examples > .x {
    width: 60%;
}

form .examples > .y {
    width: 38%;
}

form .examples textarea[name="Xs"] {
    width: 98%;
    height: 125px;
}
form .examples textarea[name="sYs_ideal"], form .examples textarea[name="sYs_real"] {
    width: 98%;
    height: 125px;
}
</style>

<!--
= Нейронные сети =

Огромный элемент искусственного интеллекта

== Линейная алгебра ==
-->

<script>

/*var a = new Algebra();

var v1 = a.v.create(4, 'ones');
var v2 = a.v.create(4, 'ones');
var v3 = a.v.create(4, 'random');
var m1 = a.m.create(3, 4, 'random');
var m2 = a.m.create(3, 4, 'random');
var m3 = [1,2,3,4,5,6,2,3,0];//a.m.create(2, 3, 'random');
var m4 = [1,2,3,4,5,6,3,2,0];//a.m.create(3, 2, 'random');

document.write('<h2>Векторы</h2>')

document.write('<br>v1 ');
document.write(v1);
document.write('<br>v2 ');
document.write(v2);
document.write('<br>v3 ');
document.write(v3);

document.write('<br><br>v1 * 5: ');
a.v.MultiplyConst(v1, 5);
a.v.write(v1);

document.write('<br>v1 + v2: ');
a.v.Sum(v1, v2);
a.v.write(v1);

document.write('<br>v1 - v2: ');
a.v.Diff(v1, v2);
a.v.write(v1);

document.write('<br>v1 * v2: ');
document.write(a.v.MultiplyScal(v1, v2));

document.write('<br>v1 x v3: ');
a.v.MultiplyVect(v1, v3);
a.v.write(v1);

document.write('<br><br>|v1|: ');
document.write(a.v.GetLen(v1));
document.write('<br>|v2|: ');
document.write(a.v.GetLen(v2));
document.write('<br>|v3|: ');
document.write(a.v.GetLen(v3));

document.write('<br><br>');

document.write('<h2>Матрицы</h2>')

document.write('<br>m1: ');
document.write(m1);
document.write('<br>m2: ');
document.write(m2);
document.write('<br>m3: ');
document.write(m3);
document.write('<br>m4: ');
document.write(m4);

document.write('<br><br>m1<br>');
a.m.write(m1);
document.write('<br><br>m2<br>');
a.m.write(m2);
document.write('<br><br>');
document.write('<br><br>m3<br>');
a.m.write(m3);
document.write('<br><br>m4<br>');
a.m.write(m4);
document.write('<br><br>');

a.m.Sum(m1, m2);
document.write('m1 + m2:<br>');
a..write(m1);

var _m5 = a.m.Multiply(m3, m4);
document.write('<br>m3 @ m4:<br>');
a.m.write(_m5);

_m5 = a.m.Multiply(m4, m3);
document.write('<br>m4 @ m3:<br>');
a.m.write(_m5);

a.m.MultiplyConst(_m5, 2);
document.write('<br>_m5 * 2:<br>');
a.m.write(_m5);

a.m.T2(m1);
document.write('<br>(m1)T:<br>');
//v.write(m1);
a.m.write(m1);

a.m.T2(m1);
document.write('<br>(m1)T:<br>');
//v.write(m1);
a.m.write(m1);
*/

document.write('<h2>Нейроны</h2>');

document.write('<br>');

document.write('<h3>Обучение</h3>');

</script>

<form id="form_study">

   Нейрон: <select name="neuron">
        <option value='perceptron' checked>Перцептрон</option>
        <option value='linear'>Линейный</option>
        <option value='sigma'>Сигмоидный</option>
        <option value='tanh'>Гиперболический тангенс</option>
        <option value='relu'>ReLU</option>
        <option value='softplus'>Softplus</option>
    </select>
   <div class="examples">
        <div class="x">
            Входные данные (x):<br>
            <textarea name="Xs">[[0, 0], [0, 1], [1, 0], [1,1]]</textarea>
        </div><div class="y">
            Результат (y):<br>
            <textarea name="sYs_ideal">[[0], [1], [1], [0]]</textarea>
        </div>
    <div>
    Веса (w): <input type="input" name="W" disabled>
    <br>
    <!--Значение смещения (b): <input type="input" name="b" value="1" size="3"><br>-->
    Число нейронов в слоях: <input type="input" name="topology" value="[2,1]">
    <br>
    Число входов: <input type="input" name="count_input" value="2">
    <br>
    Число эпох: <input type="input" name="count_era" value="50">
    <br>

    <input type="button" onclick="startStudy(this)" value="Начать обучение">
    <input type="checkbox" name="show_log" checked>
    Выводить лог через каждые <input type="text" value="1" name="show_log_era_in_step" size="3"> эпох

</form>

<h3>Использование</h3>

<form id="form_use">

    Нейрон: <select name="neuron">
        <option value='perceptron' checked>Перцептрон</option>
        <option value='linear'>Линейный</option>
        <option value='sigma'>Сигмоидный</option>
        <option value='tanh'>Гиперболический тангенс</option>
        <option value='relu'>ReLU</option>
        <option value='softplus'>Softplus</option>
    </select>
    <div class="examples">
       <div class="x">
            Входные данные (x):<br>
            <textarea name="Xs">[[0, 0], [0, 1], [1, 0], [1,1]]</textarea>
        </div><div class="y">
            Результат (y):<br>
            <textarea name="sYs_real" disabled></textarea>
        </div>
    <div>
    Веса (w): <input type="input" name="W" value="[ [[-1,2,-1], [1,-1,0] ], [[1,3,0]]]">
    <input type="button" onclick="copyW1(this)" value="Взять из обучения">
    <br>
    <!--Значение смещения (b): <input type="input" name="b" value="1" size="3"><br>-->

    <input type="button" onclick="startUsing(this)" value="Посмотреть результат">
    <input type="checkbox" name="show_log" checked>
    Выводить лог

</form>

<form id='form_log'>
    <textarea name='log' disabled></textarea>
    <div></div>
</form>

<script>
//let M = a.v.MultiplyScal(v1, v3);
//alert(M);
//alert(L1 * L3 * Math.cos(Math.atan2(L1,L3)))
</script>

</body>

</html>